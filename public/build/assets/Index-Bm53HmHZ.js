import{r as l,j as e,a as m,Y as N}from"./app-BdcZFPzP.js";import{D as v,q as g}from"./DropDownMenu-iOdbYGEa.js";import{P as R}from"./Pagination-GkpplGo2.js";import{S as F,I}from"./SelectBox-BRiYohW-.js";import{D as E}from"./Table-BFNSzOZF.js";import{A as D}from"./AuthenticatedLayout-8ssL5l9G.js";import{c as A}from"./index-RxbyN6Ed.js";import{F as k}from"./PencilIcon-DtYvXHT8.js";import{F as C}from"./TrashIcon-gNeQWtlh.js";import"./hidden-DcMLGG9C.js";function S({title:o,titleId:s,...c},x){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":s},c),o?l.createElement("title",{id:s},o):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const $=l.forwardRef(S),H=({auth:o,users:s,statuses:c,meta:x})=>{const[n,U]=l.useState(c),b=["Id","name","Email","Role","Status","Action"],a=(t,r)=>t.filter(d=>d!=r),w=t=>{if(t=="pending")return a(n,"suspended");if(t=="rejected")return n.filter(r=>r!="pending");if(t=="approved"){const r=a(n,"pending");return a(r,"rejected")}if(t=="suspended"){const r=a(n,"pending");return a(r,"rejected")}};return e.jsxs(D,{header:"Users",linkItem:e.jsx(m,{className:"bg-primary rounded-md text-white p-2",href:route("admin.users.create"),children:"Create user"}),children:[e.jsx(N,{title:"Users"}),e.jsx("div",{className:"w-full mt-6",children:e.jsx("div",{className:"bg-white",children:e.jsx(E,{headItems:b,children:s.data.map((t,r)=>{var d,h,f,u,j;return e.jsxs("tr",{className:"odd:bg-white even:bg-slate-100",children:[e.jsx("td",{className:"text-left py-3 px-4",children:t.id}),e.jsx("td",{className:"text-left py-3 px-4",children:t.name}),e.jsx("td",{className:"text-left py-3 px-4",children:t.email}),e.jsx("td",{className:"text-left py-3 px-4",children:(d=t.roles[0])!=null&&d.name?e.jsx(e.Fragment,{children:e.jsx("span",{className:A("text-xs font-medium me-2 px-2.5 py-0.5 rounded border ",{"border-green-400 bg-green-100 text-green-800":((h=t.roles[0])==null?void 0:h.name)=="admin"},{"bg-purple-100 text-purple-800 border-purple-400":((f=t.roles[0])==null?void 0:f.name)=="user"}),children:(u=t.roles[0])==null?void 0:u.name})}):e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx(F,{defaultText:((j=x.data)==null?void 0:j.status)??t.status,children:w(t.status).map((p,y)=>e.jsx(I.Option,{className:({active:i})=>`relative cursor-default select-none ${i?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:p,children:({selected:i})=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`block w-full truncate ${i?"font-medium":"font-normal"}`,children:e.jsx(m,{method:"put",className:"py-2 pl-10 text-left pr-4 block w-full",as:"button",href:route("admin.users.status",{user:t.id,statusName:p}),children:p})}),i?e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600",children:e.jsx($,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},y))})}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsxs(v,{additionalClasses:"bg-gray-200 text-gray-900",name:"Actions",children:[e.jsx(g.Item,{children:e.jsxs(m,{href:route("admin.users.edit",t.id),className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx(k,{className:"mr-2 h-5 w-5"}),"Edit"]})}),e.jsx(g.Item,{children:e.jsxs(m,{method:"delete",as:"button",href:route("admin.users.destroy",t.id),className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx(C,{className:"mr-2 h-5 w-5"}),"Delete"]})})]})})]},r)})})})}),s.total>10&&e.jsx(R,{items:s})]})};export{H as default};
