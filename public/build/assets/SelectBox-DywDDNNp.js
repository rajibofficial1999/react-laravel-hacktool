import{r as u,R as U,j as w}from"./app-D6lE0vgG.js";import{s as ee,d as E,o as f,h as _,U as C,y as D,u as k,k as me,v as he,w as Oe,p as z,x as Re,j as q,z as Se,C as j,I as H,i as ye,A as Le,m,r as Ie,g as Z,B as we,q as $e}from"./Table-CJLcOuHQ.js";import{T as Te,s as Pe,u as ke,c as L,f as Ee}from"./DropDownMenu-gaKDg1f0.js";import{u as Ce,s as De}from"./hidden-DdqE2GN0.js";function je({title:e,titleId:n,...t},r){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?u.createElement("title",{id:n},e):null,u.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Ae=u.forwardRef(je);function te(e,n){let[t,r]=u.useState(e),i=ee(e);return E(()=>r(i.current),[i,r,...n]),t}function Me(e,n,t){let[r,i]=u.useState(t),s=e!==void 0,o=u.useRef(s),l=u.useRef(!1),p=u.useRef(!1);return s&&!o.current&&!l.current?(l.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!p.current&&(p.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,f(b=>(s||i(b),n==null?void 0:n(b)))]}function ne(e={},n=null,t=[]){for(let[r,i]of Object.entries(e))re(t,oe(n,r),i);return t}function oe(e,n){return e?e+"["+n+"]":n}function re(e,n,t){if(Array.isArray(t))for(let[r,i]of t.entries())re(e,oe(n,r.toString()),i);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):ne(t,n,e)}var Fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fe||{}),Ne=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ne||{}),Be=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Be||{}),Qe=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(Qe||{});function K(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=we(n(e.options.slice()),s=>s.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Ue={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,r=e.options.findIndex(i=>t(i.dataRef.current.value));return r!==-1&&(n=r),{...e,listboxState:0,activeOptionIndex:n}},2(e,n){var t;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=K(e),i=Ee(n,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(t=n.trigger)!=null?t:1}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(o=>{var l;return!o.dataRef.current.disabled&&((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),s=i?e.options.indexOf(i):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let t={id:n.id,dataRef:n.dataRef},r=K(e,i=>[...i,t]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(t)),{...e,...r}},6:(e,n)=>{let t=K(e,r=>{let i=r.findIndex(s=>s.id===n.id);return i!==-1&&r.splice(i,1),r});return{...e,...t,activationTrigger:1}},7:(e,n)=>({...e,labelId:n.id})},J=u.createContext(null);J.displayName="ListboxActionsContext";function A(e){let n=u.useContext(J);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}return n}let X=u.createContext(null);X.displayName="ListboxDataContext";function M(e){let n=u.useContext(X);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return n}function ze(e,n){return k(n.type,Ue,e,n)}let qe=u.Fragment;function He(e,n){let{value:t,defaultValue:r,form:i,name:s,onChange:o,by:l=(c,d)=>c===d,disabled:p=!1,horizontal:b=!1,multiple:h=!1,...I}=e;const P=b?"horizontal":"vertical";let $=D(n),[O=h?[]:void 0,y]=Me(t,o,r),[x,a]=u.useReducer(ze,{dataRef:u.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=u.useRef({static:!1,hold:!1}),F=u.useRef(null),N=u.useRef(null),V=u.useRef(null),R=f(typeof l=="string"?(c,d)=>{let S=l;return(c==null?void 0:c[S])===(d==null?void 0:d[S])}:l),T=u.useCallback(c=>k(v.mode,{1:()=>O.some(d=>R(d,c)),0:()=>R(O,c)}),[O]),v=u.useMemo(()=>({...x,value:O,disabled:p,mode:h?1:0,orientation:P,compare:R,isSelected:T,optionsPropsRef:g,labelRef:F,buttonRef:N,optionsRef:V}),[O,p,h,x]);E(()=>{x.dataRef.current=v},[v]),me([v.buttonRef,v.optionsRef],(c,d)=>{var S;a({type:1}),he(d,Oe.Loose)||(c.preventDefault(),(S=v.buttonRef.current)==null||S.focus())},v.listboxState===0);let ae=u.useMemo(()=>({open:v.listboxState===0,disabled:p,value:O}),[v,p,O]),ie=f(c=>{let d=v.options.find(S=>S.id===c);d&&G(d.dataRef.current.value)}),le=f(()=>{if(v.activeOptionIndex!==null){let{dataRef:c,id:d}=v.options[v.activeOptionIndex];G(c.current.value),a({type:2,focus:L.Specific,id:d})}}),se=f(()=>a({type:0})),ue=f(()=>a({type:1})),ce=f((c,d,S)=>c===L.Specific?a({type:2,focus:L.Specific,id:d,trigger:S}):a({type:2,focus:c,trigger:S})),de=f((c,d)=>(a({type:5,id:c,dataRef:d}),()=>a({type:6,id:c}))),pe=f(c=>(a({type:7,id:c}),()=>a({type:7,id:null}))),G=f(c=>k(v.mode,{0(){return y==null?void 0:y(c)},1(){let d=v.value.slice(),S=d.findIndex(Q=>R(Q,c));return S===-1?d.push(c):d.splice(S,1),y==null?void 0:y(d)}})),fe=f(c=>a({type:3,value:c})),ve=f(()=>a({type:4})),be=u.useMemo(()=>({onChange:G,registerOption:de,registerLabel:pe,goToOption:ce,closeListbox:ue,openListbox:se,selectActiveOption:le,selectOption:ie,search:fe,clearSearch:ve}),[]),xe={ref:$},B=u.useRef(null),ge=z();return u.useEffect(()=>{B.current&&r!==void 0&&ge.addEventListener(B.current,"reset",()=>{y==null||y(r)})},[B,y]),U.createElement(J.Provider,{value:be},U.createElement(X.Provider,{value:v},U.createElement(Re,{value:k(v.listboxState,{0:q.Open,1:q.Closed})},s!=null&&O!=null&&ne({[s]:O}).map(([c,d],S)=>U.createElement(Ce,{features:De.Hidden,ref:S===0?Q=>{var Y;B.current=(Y=Q==null?void 0:Q.closest("form"))!=null?Y:null}:void 0,...Se({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:p,name:c,value:d})})),j({ourProps:xe,theirProps:I,slot:ae,defaultTag:qe,name:"Listbox"}))))}let Ve="button";function Ge(e,n){var t;let r=H(),{id:i=`headlessui-listbox-button-${r}`,...s}=e,o=M("Listbox.Button"),l=A("Listbox.Button"),p=D(o.buttonRef,n),b=z(),h=f(x=>{switch(x.key){case m.Space:case m.Enter:case m.ArrowDown:x.preventDefault(),l.openListbox(),b.nextFrame(()=>{o.value||l.goToOption(L.First)});break;case m.ArrowUp:x.preventDefault(),l.openListbox(),b.nextFrame(()=>{o.value||l.goToOption(L.Last)});break}}),I=f(x=>{switch(x.key){case m.Space:x.preventDefault();break}}),P=f(x=>{if(Ie(x.currentTarget))return x.preventDefault();o.listboxState===0?(l.closeListbox(),b.nextFrame(()=>{var a;return(a=o.buttonRef.current)==null?void 0:a.focus({preventScroll:!0})})):(x.preventDefault(),l.openListbox())}),$=te(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),O=u.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),y={ref:p,id:i,type:Te(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(t=o.optionsRef.current)==null?void 0:t.id,"aria-expanded":o.listboxState===0,"aria-labelledby":$,disabled:o.disabled,onKeyDown:h,onKeyUp:I,onClick:P};return j({ourProps:y,theirProps:s,slot:O,defaultTag:Ve,name:"Listbox.Button"})}let Ke="label";function We(e,n){let t=H(),{id:r=`headlessui-listbox-label-${t}`,...i}=e,s=M("Listbox.Label"),o=A("Listbox.Label"),l=D(s.labelRef,n);E(()=>o.registerLabel(r),[r]);let p=f(()=>{var h;return(h=s.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})}),b=u.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return j({ourProps:{ref:l,id:r,onClick:p},theirProps:i,slot:b,defaultTag:Ke,name:"Listbox.Label"})}let Ze="ul",Je=_.RenderStrategy|_.Static;function Xe(e,n){var t;let r=H(),{id:i=`headlessui-listbox-options-${r}`,...s}=e,o=M("Listbox.Options"),l=A("Listbox.Options"),p=D(o.optionsRef,n),b=z(),h=z(),I=ye(),P=I!==null?(I&q.Open)===q.Open:o.listboxState===0;u.useEffect(()=>{var a;let g=o.optionsRef.current;g&&o.listboxState===0&&g!==((a=Le(g))==null?void 0:a.activeElement)&&g.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let $=f(a=>{switch(h.dispose(),a.key){case m.Space:if(o.searchQuery!=="")return a.preventDefault(),a.stopPropagation(),l.search(a.key);case m.Enter:if(a.preventDefault(),a.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:g}=o.options[o.activeOptionIndex];l.onChange(g.current.value)}o.mode===0&&(l.closeListbox(),Z().nextFrame(()=>{var g;return(g=o.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})}));break;case k(o.orientation,{vertical:m.ArrowDown,horizontal:m.ArrowRight}):return a.preventDefault(),a.stopPropagation(),l.goToOption(L.Next);case k(o.orientation,{vertical:m.ArrowUp,horizontal:m.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),l.goToOption(L.Previous);case m.Home:case m.PageUp:return a.preventDefault(),a.stopPropagation(),l.goToOption(L.First);case m.End:case m.PageDown:return a.preventDefault(),a.stopPropagation(),l.goToOption(L.Last);case m.Escape:return a.preventDefault(),a.stopPropagation(),l.closeListbox(),b.nextFrame(()=>{var g;return(g=o.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})});case m.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(l.search(a.key),h.setTimeout(()=>l.clearSearch(),350));break}}),O=te(()=>{var a;return(a=o.buttonRef.current)==null?void 0:a.id},[o.buttonRef.current]),y=u.useMemo(()=>({open:o.listboxState===0}),[o]),x={"aria-activedescendant":o.activeOptionIndex===null||(t=o.options[o.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":O,"aria-orientation":o.orientation,id:i,onKeyDown:$,role:"listbox",tabIndex:0,ref:p};return j({ourProps:x,theirProps:s,slot:y,defaultTag:Ze,features:Je,visible:P,name:"Listbox.Options"})}let Ye="li";function _e(e,n){let t=H(),{id:r=`headlessui-listbox-option-${t}`,disabled:i=!1,value:s,...o}=e,l=M("Listbox.Option"),p=A("Listbox.Option"),b=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===r:!1,h=l.isSelected(s),I=u.useRef(null),P=Pe(I),$=ee({disabled:i,value:s,domRef:I,get textValue(){return P()}}),O=D(n,I);E(()=>{if(l.listboxState!==0||!b||l.activationTrigger===0)return;let R=Z();return R.requestAnimationFrame(()=>{var T,v;(v=(T=I.current)==null?void 0:T.scrollIntoView)==null||v.call(T,{block:"nearest"})}),R.dispose},[I,b,l.listboxState,l.activationTrigger,l.activeOptionIndex]),E(()=>p.registerOption(r,$),[$,r]);let y=f(R=>{if(i)return R.preventDefault();p.onChange(s),l.mode===0&&(p.closeListbox(),Z().nextFrame(()=>{var T;return(T=l.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})}))}),x=f(()=>{if(i)return p.goToOption(L.Nothing);p.goToOption(L.Specific,r)}),a=ke(),g=f(R=>a.update(R)),F=f(R=>{a.wasMoved(R)&&(i||b||p.goToOption(L.Specific,r,0))}),N=f(R=>{a.wasMoved(R)&&(i||b&&p.goToOption(L.Nothing))}),V=u.useMemo(()=>({active:b,selected:h,disabled:i}),[b,h,i]);return j({ourProps:{id:r,ref:O,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:y,onFocus:x,onPointerEnter:g,onMouseEnter:g,onPointerMove:F,onMouseMove:F,onPointerLeave:N,onMouseLeave:N},theirProps:o,slot:V,defaultTag:Ye,name:"Listbox.Option"})}let et=C(He),tt=C(Ge),nt=C(We),ot=C(Xe),rt=C(_e),W=Object.assign(et,{Button:tt,Label:nt,Options:ot,Option:rt});const ut=({defaultText:e="Options",children:n})=>{const[t,r]=u.useState(e);return u.useEffect(()=>{r(e)},[e]),w.jsx("div",{className:"relative",children:w.jsx(W,{value:t,onChange:r,children:w.jsxs("div",{className:"relative mt-1",children:[w.jsxs(W.Button,{className:"relative z-0 w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm",children:[w.jsx("span",{className:"block truncate",children:t}),w.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:w.jsx(Ae,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),w.jsx($e,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:w.jsx(W.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm",children:n})})]})})})};export{W as I,ut as S};
