import{r as l,j as e,q as b,Y as R,a as T,b as F}from"./app-D6lE0vgG.js";import{D as O,q as w}from"./DropDownMenu-gaKDg1f0.js";import{H as U,_ as H,C as p}from"./index-CHwZNNCw.js";import{P as L}from"./Pagination-DUTfBGNk.js";import{D as V}from"./Table-CJLcOuHQ.js";import{A as q}from"./AuthenticatedLayout-BkWxS4Bq.js";import{F as $,a as z}from"./FileSaver.min-fCHU7A5X.js";import{S as B}from"./SuccessAlert-MhgxyM8s.js";import{F as Y}from"./TrashIcon-BDJS_A4W.js";import"./index-DG6WN2lu.js";import"./hidden-DdqE2GN0.js";function Z({title:d,titleId:a,...m},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},m),d?l.createElement("title",{id:a},d):null,l.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const N=l.forwardRef(Z),v=({authUser:d,owner:a})=>{var m;return d.name===(a==null?void 0:a.name)?e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"bg-blue-100 text-black text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-blue-400",children:"You"})}):e.jsx("td",{className:"text-left py-3 px-4",children:((m=a==null?void 0:a.team)==null?void 0:m.name)??(a==null?void 0:a.name)})},re=({accounts:d})=>{var j;const{auth:a}=b().props,{successMessage:m}=b().props.meta,[i,c]=l.useState(null),[_,h]=l.useState(null),[A,f]=l.useState(null);let[C,u]=l.useState(!1),[s,I]=l.useState(null),g=["Id","email/Username/Phone","Account Password","Email Password","Owner","Time","Action"];const[E,k]=l.useState(g),n=(t,r)=>{r=="eup"&&c(t),r=="password"&&h(t),r=="password_of_email"&&f(t)},x=t=>{t=="eup"&&c(null),t=="password"&&h(null),t=="password_of_email"&&f(null)},M=t=>{I(t),u(!0)};l.useEffect(()=>{if(a.user.is_super_admin){let t=g.map(r=>(r=="Owner"&&(r="Team"),r));k(t)}},[]);const y=async t=>{let r="../storage/"+t,P=`${Math.floor(Math.random()*1e14)}.jpg`;try{const o=await F.get(r,{responseType:"blob"}),S=new Blob([o.data],{type:o.data.type});z.saveAs(S,P)}catch(o){console.error("Error downloading the image",o)}};return e.jsxs(q,{header:"Accounts",children:[e.jsx(R,{title:"Accounts"}),e.jsx(U,{isModalOpen:C,setIsModalOpen:u,children:e.jsx(H.Panel,{className:"w-full max-w-3xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all",children:e.jsx("div",{className:"mt-4 p-4 flex justify-center items-center",children:e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg border",children:e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:e.jsxs("dl",{className:"sm:divide-y sm:divide-gray-200",children:[e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email/Username/Phone"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s==null?void 0:s.eup})]}),e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Account Password"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s==null?void 0:s.password})]}),e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"User Agent"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(s==null?void 0:s.user_agent)??"N/A"})]}),e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email Password"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(s==null?void 0:s.password_of_email)??e.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-500 bg-yellow-100 text-neutral-600",children:"N/A"})})]}),e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Card Images"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s!=null&&s.card_image1?e.jsxs("div",{className:"flex justify-start items-start gap-2",children:[e.jsxs("div",{className:'relative group after:after:content-[""] after:absolute after:w-full after:h-full after:bg-black after:z-10 after:left-0 after:top-0 after:rounded-md after:bg-opacity-60 hover:after:bg-opacity-0 hover:after:invisible duration-150',children:[s!=null&&s.card_image1?e.jsx("img",{className:"w-20 rounded-md border",src:"../storage/"+(s==null?void 0:s.card_image1),alt:"card-image-1"}):"",e.jsx("button",{type:"button",onClick:()=>y(s==null?void 0:s.card_image1),className:"absolute opacity-0 invisible group-hover:opacity-100 group-hover:visible duration-150 p-2 bg-primary rounded-full text-white left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",title:"Download",children:e.jsx(N,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:'relative group after:after:content-[""] after:absolute after:w-full after:h-full after:bg-black after:z-10 after:left-0 after:top-0 after:rounded-md after:bg-opacity-60 hover:after:bg-opacity-0 hover:after:invisible duration-150',children:[s!=null&&s.card_image2?e.jsx("img",{className:"w-20 rounded-md border",src:"../storage/"+(s==null?void 0:s.card_image2),alt:"card-image-2"}):"",e.jsx("button",{type:"button",onClick:()=>y(s==null?void 0:s.card_image2),className:"absolute opacity-0 invisible group-hover:opacity-100 group-hover:visible duration-150 p-2 bg-primary rounded-full text-white left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",title:"Download",children:e.jsx(N,{className:"w-5 h-5"})})]})]}):e.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-500 bg-yellow-100 text-neutral-600",children:"N/A"})})]}),e.jsxs("div",{className:"py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Account Type"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:e.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-green-400 bg-green-100 text-green-800",children:(j=s==null?void 0:s.type)==null?void 0:j.name})})]})]})})})})})}),e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(B,{children:m}),e.jsx("div",{className:"bg-white",children:e.jsx(V,{headItems:E,children:d.data.map((t,r)=>e.jsxs("tr",{className:"odd:bg-white even:bg-slate-100",children:[e.jsx("td",{className:"text-left py-3 px-4",children:t.id}),e.jsx(p,{text:t.eup,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>x("eup"),onClick:()=>n(r,"eup"),type:"button",className:"font-semibold",title:"Click to copy",children:t.eup}),i==r?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),e.jsx(p,{text:t.password,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>x("password"),onClick:()=>n(r,"password"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password}),_==r?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),t.password_of_email?e.jsx(p,{text:t.password_of_email,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>x("password_of_email"),onClick:()=>n(r,"password_of_email"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password_of_email}),A==r?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}):e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),a.user.is_admin?e.jsx(v,{authUser:a.user,owner:t.owner}):"",a.user.is_super_admin?e.jsx(v,{authUser:a.user,owner:t.owner}):"",e.jsx("td",{className:"text-left py-3 px-4 italic font-thin",children:t.time_for_humans}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsxs(O,{additionalClasses:"bg-gray-200 text-gray-900",name:"Actions",children:[e.jsx(w.Item,{children:e.jsxs(T,{method:"delete",as:"button",href:route("admin.accounts.destroy",t.id),className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx(Y,{className:"mr-2 h-5 w-5"}),"Delete"]})}),e.jsx(w.Item,{children:e.jsxs("button",{onClick:()=>M(t),type:"button",className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx($,{className:"mr-2 h-5 w-5"}),"View"]})})]})})]},r))})})]}),d.total>10&&e.jsx(L,{items:d})]})};export{re as default};
