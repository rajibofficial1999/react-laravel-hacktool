import{r as l,q as v,j as e,a as o,Y as R}from"./app-BsXAn7Uv.js";import{D as F,q as g}from"./DropDownMenu-D27yMIry.js";import{P as I}from"./Pagination-BuKkJPOk.js";import{S as E,I as A}from"./SelectBox-DsXUgWb8.js";import{D}from"./Table-YmXRuOkA.js";import{A as S}from"./AuthenticatedLayout-CTJxk30v.js";import{c as k}from"./index-RxbyN6Ed.js";import{S as C}from"./SuccessAlert-DXQAhL69.js";import{F as $}from"./PencilIcon-BGDKXvFS.js";import{F as q}from"./TrashIcon-BMzIDEA3.js";import"./hidden-BL3gMX0P.js";function M({title:m,titleId:r,...c},x){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":r},c),m?l.createElement("title",{id:r},m):null,l.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const U=l.forwardRef(M),Q=({auth:m,users:r,statuses:c,meta:x})=>{const{successMessage:b}=v().props.meta,[n,B]=l.useState(c),w=["Id","name","Email","Role","Status","Action"],a=(t,s)=>t.filter(d=>d!=s),y=t=>{if(t=="pending")return a(n,"suspended");if(t=="rejected")return n.filter(s=>s!="pending");if(t=="approved"){const s=a(n,"pending");return a(s,"rejected")}if(t=="suspended"){const s=a(n,"pending");return a(s,"rejected")}};return e.jsxs(S,{header:"Users",linkItem:e.jsx(o,{className:"bg-primary rounded-md text-white p-2",href:route("admin.users.create"),children:"Create user"}),children:[e.jsx(R,{title:"Users"}),e.jsxs("div",{className:"w-full mt-6",children:[e.jsx(C,{children:b}),e.jsx("div",{className:"bg-white",children:e.jsx(D,{headItems:w,children:r.data.map((t,s)=>{var d,h,f,u,j;return e.jsxs("tr",{className:"odd:bg-white even:bg-slate-100",children:[e.jsx("td",{className:"text-left py-3 px-4",children:t.id}),e.jsx("td",{className:"text-left py-3 px-4",children:t.name}),e.jsx("td",{className:"text-left py-3 px-4",children:t.email}),e.jsx("td",{className:"text-left py-3 px-4",children:(d=t.roles[0])!=null&&d.name?e.jsx(e.Fragment,{children:e.jsx("span",{className:k("text-xs font-medium me-2 px-2.5 py-0.5 rounded border ",{"border-green-400 bg-green-100 text-green-800":((h=t.roles[0])==null?void 0:h.name)=="admin"},{"bg-purple-100 text-purple-800 border-purple-400":((f=t.roles[0])==null?void 0:f.name)=="user"}),children:(u=t.roles[0])==null?void 0:u.name})}):e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx(E,{defaultText:((j=x.data)==null?void 0:j.status)??t.status,children:y(t.status).map((p,N)=>e.jsx(A.Option,{className:({active:i})=>`relative cursor-default select-none ${i?"bg-amber-100 text-amber-900":"text-gray-900"}`,value:p,children:({selected:i})=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`block w-full truncate ${i?"font-medium":"font-normal"}`,children:e.jsx(o,{method:"put",className:"py-2 pl-10 text-left pr-4 block w-full",as:"button",href:route("admin.users.status",{user:t.id,statusName:p}),children:p})}),i?e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600",children:e.jsx(U,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},N))})}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsxs(F,{additionalClasses:"bg-gray-200 text-gray-900",name:"Actions",children:[e.jsx(g.Item,{children:e.jsxs(o,{href:route("admin.users.edit",t.id),className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx($,{className:"mr-2 h-5 w-5"}),"Edit"]})}),e.jsx(g.Item,{children:e.jsxs(o,{method:"delete",as:"button",href:route("admin.users.destroy",t.id),className:"group flex w-full items-center rounded-md px-2 py-2 text-sm text-gray-900 hover:bg-primary hover:text-white",children:[e.jsx(q,{className:"mr-2 h-5 w-5"}),"Delete"]})})]})})]},s)})})})]}),r.total>10&&e.jsx(I,{items:r})]})};export{Q as default};
