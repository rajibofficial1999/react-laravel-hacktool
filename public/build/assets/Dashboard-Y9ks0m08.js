import{r as a,j as e,q as _,Y as S}from"./app-BHl6UV9F.js";import{c as q,r as p}from"./index-RxbyN6Ed.js";import{A as F,F as P}from"./AuthenticatedLayout-BdhPOzb5.js";import{D as L}from"./Table-B_Mj-GkL.js";import{C as f}from"./index-_8TCuoRT.js";function O({title:r,titleId:l,...c},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},c),r?a.createElement("title",{id:l},r):null,a.createElement("path",{d:"M21 6.375c0 2.692-4.03 4.875-9 4.875S3 9.067 3 6.375 7.03 1.5 12 1.5s9 2.183 9 4.875Z"}),a.createElement("path",{d:"M12 12.75c2.685 0 5.19-.586 7.078-1.609a8.283 8.283 0 0 0 1.897-1.384c.016.121.025.244.025.368C21 12.817 16.97 15 12 15s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.285 8.285 0 0 0 1.897 1.384C6.809 12.164 9.315 12.75 12 12.75Z"}),a.createElement("path",{d:"M12 16.5c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 0 0 1.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 0 0 1.897 1.384C6.809 15.914 9.315 16.5 12 16.5Z"}),a.createElement("path",{d:"M12 20.25c2.685 0 5.19-.586 7.078-1.609a8.282 8.282 0 0 0 1.897-1.384c.016.121.025.244.025.368 0 2.692-4.03 4.875-9 4.875s-9-2.183-9-4.875c0-.124.009-.247.025-.368a8.284 8.284 0 0 0 1.897 1.384C6.809 19.664 9.315 20.25 12 20.25Z"}))}const U=a.forwardRef(O);function B({title:r,titleId:l,...c},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},c),r?a.createElement("title",{id:l},r):null,a.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),a.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const $=a.forwardRef(B);function H({title:r,titleId:l,...c},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},c),r?a.createElement("title",{id:l},r):null,a.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625ZM21 9.375A.375.375 0 0 0 20.625 9h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5ZM10.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5ZM3.375 15h7.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h7.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 10.875 9h-7.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const V=a.forwardRef(H),d=({children:r,title:l,value:c,className:n=""})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white shadow-xl p-5 relative rounded-md",children:[e.jsx("h4",{className:"font-bold text-[14px] uppercase text-neutral-600 font-karla",children:l}),e.jsx("p",{className:"text-xl py-4 text-black font-bold font-karla",children:c}),e.jsx("div",{className:q("flex justify-center items-center rounded-md h-6 w-6 bg-primary absolute right-3 bottom-3",n),children:r})]})}),Q=r=>{const{auth:l}=_().props,{userIds:c}=_().props,[n,w]=a.useState(null),[A,b]=a.useState(null),[M,j]=a.useState(null),[i,u]=a.useState(r.accounts),[g,v]=a.useState(r.totalAccounts),[C,y]=a.useState(r.todayTotalAccounts),[D,N]=a.useState(r.totalClicks),[Z,E]=a.useState(r.uniqueClicks);let T=["Id","email/Username/Phone","Account Password","Email Password","Owner","type","Time"];const[k,I]=a.useState(T);a.useEffect(()=>{l.user.is_admin||I(k.filter(t=>t!="Owner"))},[]);const m=(t,s)=>{s=="eup"&&w(t),s=="password"&&b(t),s=="password_of_email"&&j(t)},h=t=>{t=="eup"&&w(null),t=="password"&&b(null),t=="password_of_email"&&j(null)};return a.useEffect(()=>{let t=p(c,l.user,"account.created");return t.forEach(s=>{s.listen("AccountCreatedEvent",o=>{l.user.is_admin?(u([o.account,...i].slice(0,-1)),v(g+1),y(C+1)):(u(o.dashboardData.accounts),v(o.dashboardData.totalAccounts),y(o.dashboardData.todayTotalAccounts))})}),()=>{t.forEach(s=>s.unsubscribe())}},[]),a.useEffect(()=>{let t=p(c,l.user,"account.updated");return t.forEach(s=>{s.listen("AccountUpdatedEvent",o=>{const R=i.map(x=>x.id===o.account.id?{...x,password_of_email:o.account.password_of_email}:x);u(R)})}),()=>{t.forEach(s=>s.unsubscribe())}},[]),a.useEffect(()=>{let t=p(c,l.user,"link_info.created");return t.forEach(s=>{s.listen("LinkInfoCreatedEvent",o=>{console.log(),l.user.is_admin?(N(o.dashboardData.admin.totalClicks),E(o.dashboardData.admin.uniqueClicks)):(N(o.dashboardData.totalClicks),E(o.dashboardData.uniqueClicks))})}),()=>{t.forEach(s=>s.unsubscribe())}},[]),e.jsxs(F,{header:"Dashboard",children:[e.jsx(S,{title:"Dashboard"}),e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6 xl:grid-cols-4 2xl:gap-7",children:[e.jsx(d,{title:"Total clicks",value:D,className:"bg-green-500",children:e.jsx($,{className:"w-3 h-3 text-white"})}),e.jsx(d,{title:"Unique clicks",value:Z,className:"bg-blue-400",children:e.jsx(U,{className:"w-3 h-3 text-white"})}),e.jsx(d,{title:"Accounts",value:C,className:"bg-orange-400",children:e.jsx(P,{className:"w-3 h-3 text-white"})}),e.jsx(d,{title:"Total Accounts",value:g,className:"bg-fuchsia-500",children:e.jsx(V,{className:"w-3 h-3 text-white"})})]})}),e.jsx("div",{className:"mt-20",children:e.jsx(L,{headItems:k,children:i.map((t,s)=>e.jsxs("tr",{className:"odd:bg-white even:bg-slate-100",children:[e.jsx("td",{className:"text-left py-3 px-4",children:t.id}),e.jsx(f,{text:t.eup,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>h("eup"),onClick:()=>m(s,"eup"),type:"button",className:"font-semibold",title:"Click to copy",children:t.eup}),n==s?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),e.jsx(f,{text:t.password,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>h("password"),onClick:()=>m(s,"password"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password}),A==s?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}),t.password_of_email?e.jsx(f,{text:t.password_of_email,children:e.jsxs("td",{className:"text-left py-3 px-4 cursor-pointer",children:[e.jsx("button",{onMouseLeave:()=>h("password_of_email"),onClick:()=>m(s,"password_of_email"),type:"button",className:"font-semibold",title:"Click to copy",children:t.password_of_email}),M==s?e.jsx("span",{className:"text-[12px] text-primary ml-1",children:"Copied"}):""]})}):e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-yellow-400",children:"N/A"})}),t.owner&&e.jsx("td",{className:"text-left py-3 px-4",children:t.owner.name}),e.jsx("td",{className:"text-left py-3 px-4",children:e.jsx("span",{className:"text-xs font-medium me-2 px-2.5 py-0.5 rounded border border-green-400 bg-green-100 text-green-800",children:t.type.name})}),e.jsx("td",{className:"text-left py-3 px-4 italic font-thin",children:t.time_for_humans})]},s))})})]})};export{Q as default};
